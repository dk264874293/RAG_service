# ===================================================================
# OSS存储配置模板
# ===================================================================
# 将此文件复制为 .env 并填入实际的配置值
# cp .env.oss.template .env

# 存储类型: local 或 oss
# local - 使用本地文件系统存储
# oss - 使用阿里云OSS对象存储
STORAGE_TYPE=local

# ===================================================================
# OSS配置（使用OSS时必需）
# ===================================================================

# OSS访问密钥ID
# 在阿里云控制台创建AccessKey
OSS_ACCESS_KEY_ID=your_access_key_id_here

# OSS访问密钥Secret
# 在阿里云控制台创建AccessKey
OSS_ACCESS_KEY_SECRET=your_access_key_secret_here

# OSS端点地址
# 根据Bucket所在地域选择：
# - 华东1（杭州）: oss-cn-hangzhou.aliyuncs.com
# - 华东2（上海）: oss-cn-shanghai.aliyuncs.com
# - 华北1（青岛）: oss-cn-qingdao.aliyuncs.com
# - 华北2（北京）: oss-cn-beijing.aliyuncs.com
# - 华南1（深圳）: oss-cn-shenzhen.aliyuncs.com
# - 华南2（广州）: oss-cn-guangzhou.aliyuncs.com
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com

# OSS存储桶名称
# 在阿里云OSS控制台创建Bucket
OSS_BUCKET_NAME=your-bucket-name

# OSS文件前缀
# 用于在Bucket中组织文件，避免与其他应用冲突
# 建议以斜杠结尾
OSS_PREFIX=rag-service/

# OSS操作超时时间（秒）
# 用于上传、下载等OSS操作的超时控制
OSS_TIMEOUT=60

# OSS预签名URL过期时间（秒）
# 用于生成临时访问URL的过期时间
# 默认3600秒（1小时）
OSS_PRESIGN_URL_EXPIRE=3600

# 是否在OSS失败时回退到本地
# true - OSS操作失败时自动使用本地存储
# false - OSS失败时抛出异常
OSS_FALLBACK_TO_LOCAL=true

# ===================================================================
# 迁移策略建议
# ===================================================================
#
# 阶段1: 保持 STORAGE_TYPE=local，验证兼容性
#   - 所有文件存储在本地
#   - 功能不受影响
#
# 阶段2: 设置 STORAGE_TYPE=oss + OSS_FALLBACK_TO_LOCAL=true，灰度验证
#   - 新文件上传到OSS
#   - OSS失败时自动回退到本地
#   - 验证OSS配置正确性
#
# 阶段3: 确认稳定后，设置 OSS_FALLBACK_TO_LOCAL=false，完全使用OSS
#   - 所有文件存储在OSS
#   - 本地仅作为缓存
#   - 可配置CDN加速访问
